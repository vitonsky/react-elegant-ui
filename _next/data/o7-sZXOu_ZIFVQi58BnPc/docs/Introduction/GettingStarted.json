{"pageProps":{"title":"Getting started","date":1629142727960,"text":"# Getting started\n\nRead introduction to understand terms and structure of package and components.\n\n## Install\n\nInstall package and peer deps\n\n`npm install react-elegant-ui @bem-react/classname @bem-react/di react`\n\n## Basic usage\n\nEach component have a ready-made bundle with all features, you can use it.\n\nIt useful for prototyping, library overview, developer purposes, for see on code samples. But should not use it in your real projects, better make your own components bundles.\n\nUse library in your application:\n\n```JSX\nimport React, { useState } from 'react';\n\n// Import prebuilded components with all features\nimport { Textinput } from 'react-elegant-ui/esm/components/Textinput/Textinput.bundle/desktop';\nimport { Button } from 'react-elegant-ui/esm/components/Button/Button.bundle/desktop';\n\nimport { configureRootTheme } from 'react-elegant-ui/esm/theme';\nimport { theme } from 'react-elegant-ui/esm/theme/presets/default';\n\n// Use global theme. It's client side only feature\nconfigureRootTheme({ theme });\n\nexport const Example = () => {\n  const [name, setName] = useState('');\n  const clear = () => setName('');\n\n  const clickHandler = () => console.log(name ? `Hello, ${name}` : 'Input your name');\n\n  return <div>\n    <Textinput\n      placeholder=\"Input your name\"\n      value={name}\n      setValue={setName}\n      hasClear\n      onClearClick={clear}\n    />\n    <Button view=\"action\" onClick={clickHandler}>Say my name</Button>\n\t</div>;\n}\n```\n\nThen just build it in your favorite bundler and use.\n\nYou will require bundler modules for handle JS or TSX, CSS and for convert SVG files to components.\n\nIf you have problems with build process, see webpack config in examples and make issue if it not resolve your problem.\n\n## Advanced usage\n\nMain feature of this components is architecture which split components to features and allow you use components with only features which you really need.\n\nFor example, when you make page for smartphones, usually you are not necessary features which implement keyboard navigation different of pages for desktop and you want use native select control instead custom and probably bigger buttons.\n\nYou can handle useragent header of requests on server side and give bundles depends of it. For smartphons one for desktop browsers other, for old browsers give bundle with polyfils and fallbacks, for modern - with all modern features.\n\nThis way allow you decrease bundle size, speed up page loading and use experements, when you test features on part of users.\n\nIf you don't want it, it's fine, just use one bundle everywhere if you want but for you it useful too.\n\nThis architecture mean also that you can add new features to exists components or replace implementation of some features.\n\nYou need menu with search input down of menu, and by default exists feature with search input but this input add before menu and it not satisfied you? It's not problem, because you can fix it very simply and fast, just take source code of this feature from repo, change as you wish and build component with your implementation of this feature. It take about 5 minuts.\n\n### Build\n\nAll that you need to use component with some features is compose component and features which you need. That builds named a bundles.\n\nExample of build in your project file `myApp/components/Button/Button.bundle/desktop.ts`\n\n```tsx\n// Import tools from compose library\nimport {\n\tcompose,\n\tcomposeU,\n\tExtractProps,\n} from 'react-elegant-ui/esm/lib/compose';\n\n// Import tool from DI library\n// See docs: https://github.com/bem/bem-react/tree/master/packages/di\nimport { withRegistry } from '@bem-react/di';\n\n// Import base component\nimport { Button as DesktopButton } from 'react-elegant-ui/esm/components/Button/Button@desktop';\n\n// DI registry object\nimport { ButtonDesktopRegistry } from 'react-elegant-ui/esm/components/Button/Button.registry/desktop';\n\n// Modifiers view\nimport { withModButtonViewDefault } from 'react-elegant-ui/esm/components/Button/_view/Button_view_default';\nimport { withModButtonViewAction } from 'react-elegant-ui/esm/components/Button/_view/Button_view_action';\n\n// Modifiers size\nimport { withModButtonSizeS } from 'react-elegant-ui/esm/components/Button/_size/Button_size_s';\nimport { withModButtonSizeM } from 'react-elegant-ui/esm/components/Button/_size/Button_size_m';\n\n// Some local feature\nimport { withModButtonSizeL } from '../_size/Button_size_l';\n\n// Modifier width\nimport { withModButtonWidthMax } from 'react-elegant-ui/esm/components/Button/_width/Button_width_max';\n\n// Export all objects from base component\nexport * from 'react-elegant-ui/esm/components/Button/Button@desktop';\n\n// Build base component `DesktopButton` with specified features\n// Every feature it's just HOC\nexport const Button = compose(\n\t// Make HOC with this registry\n\t// Every feature after this can use this registry\n\twithRegistry(ButtonDesktopRegistry),\n\n\t// Apply only one HOC, which will first match for props\n\tcomposeU(withModButtonViewDefault, withModButtonViewAction),\n\tcomposeU(withModButtonSizeS, withModButtonSizeM, withModButtonSizeL),\n\n\t// Apply HOC always\n\twithModButtonWidthMax,\n)(DesktopButton);\n\n// Set default properties for composed component\nButton.defaultProps = { size: 'm', view: 'default' };\n\n// Export new type of component with all features\nexport type IButtonProps = ExtractProps<typeof Button>;\n```\n\nExample of use in your project file `myApp/app.tsx`\n\n```tsx\nimport { Button } from './components/Button/Button.bundle/desktop';\n\n// ...\n```\n\n### Make your own feature\n\nAll features it's just HOCs.\n\nExample of simply feature `myApp/components/Button/_size/Button_size_l.tsx`\n\n```tsx\nimport React, { ComponentType, FC } from 'react';\n\n// Import helper for make BEM classname and button interface\nimport {\n\tcnButton,\n\tIButtonProps,\n} from 'react-elegant-ui/esm/components/Button/Button';\n\n// Include styles in bundle with use feature\nimport './Button_size_l.css';\n\n// Interface of feature\nexport interface IModButtonSizeL {\n\tsize?: 'l';\n}\n\nexport const withModButtonSizeL = (\n\tBaseComponent: ComponentType<IButtonProps>,\n\t// You must remove feature properties to prevent forwarding\n): FC<IModButtonSizeL & IButtonProps> => ({ size, ...props }) => {\n\t// do something if you need\n\t// ...\n\n\treturn (\n\t\t<BaseComponent\n\t\t\t{...props}\n\t\t\t// add modifier to `className`\n\t\t\tclassName={cnButton({ size }, [props.className])}\n\t\t/>\n\t);\n};\n```\n\n### Smart HOC\n\n<!-- TODO: move it to docs about compose library -->\n\nFeatures may be complexity. You may use many features which trigger by one property and you may wish apply only one feature from this. For example, when you have 3 size modifier, as in example above.\n\nFor this cases, you can add to your HOC a utility property which describe apply rules.\n\nUse for this a helper `withHOCConstructor` from library `compose`.\n\nExample of feature `myApp/components/Button/_size/Button_size_l.tsx`\n\n```tsx\nimport React, { ComponentType, FC } from 'react';\n\n// Import helper for make BEM classname and button interface\nimport {\n\tcnButton,\n\tIButtonProps,\n} from 'react-elegant-ui/esm/components/Button/Button';\n\n// Use helper\nimport { withHOCConstructor } from 'react-elegant-ui/esm/lib/compose';\n\n// Include styles in bundle with use feature\nimport './Button_size_l.css';\n\n// Interface of feature\nexport interface IModButtonSizeL {\n\tsize?: 'l';\n}\n\nexport const withModButtonSizeL = withHOCConstructor<\n\tIModButtonSizeL,\n\tIButtonProps\n>(\n\t{\n\t\t// apply this HOC only by match with this props state\n\t\tmatchProps: { size: 'l' },\n\n\t\t// make all props names from `matchProps` is private\n\t\t// it's mean that when no one feature which use this props will not match\n\t\t// this props will auto remove\n\t\tprivateMatchProps: true,\n\t},\n\t// Types will infer automatically\n\t// You still must remove feature properties to prevent forwarding\n\t(BaseComponent) => ({ size, ...props }) => {\n\t\t// do something if you need\n\t\t// ...\n\n\t\treturn (\n\t\t\t<BaseComponent\n\t\t\t\t{...props}\n\t\t\t\tclassName={cnButton({ size }, [props.className])}\n\t\t\t/>\n\t\t);\n\t},\n);\n```\n\n### Simply visual features\n\nMany visual features just import styles and extends `className` property.\n\nFor this cases you can use helper `withClassnameHOC` from library `compose`.\n\nExample of simply visual feature `myApp/components/Button/_size/Button_size_l.tsx`\n\n```tsx\n// Use helper\nimport { withClassnameHOC } from 'react-elegant-ui/esm/lib/compose';\n\n// Import helper for make BEM classname\nimport { cnButton } from '../Button';\n\n// Include styles in bundle with use feature\nimport './Button_size_l.css';\n\n// Interface of feature\nexport interface IModButtonSizeL {\n\tsize?: 'l';\n}\n\n// By match with props state will apply HOC which extend `className` property.\n// This example do same as example above\nexport const withModButtonSizeL = withClassnameHOC<IModButtonSizeL>(\n\tcnButton(),\n\t{\n\t\tsize: 'l',\n\t},\n);\n```\n\n## Docs\n\nFor more info about development of features and components see [component development](/docs/Component%20development/Introduction) docs section.\n\nEach component directory contains `.md` files with documentation. See there if you wanna know about specific component.\n\nFor look at demo of components, you can build examples, see directory `examples`.\n","navigation":[{"title":"Introduction","child":[{"title":"About","path":"/docs/Introduction/About"},{"title":"Getting started","path":"/docs/Introduction/GettingStarted"},{"title":"Package structure","path":"/docs/Introduction/PackageStructure"},{"title":"Component architecture","path":"/docs/Introduction/ComponentArchitecture"},{"title":"Component file structure","path":"/docs/Introduction/ComponentFileStructure"},{"title":"Theming","path":"/docs/Introduction/Theming"},{"title":"Tokens","path":"/docs/Introduction/Tokens"}]},{"title":"Component development","child":[{"title":"Introduction","path":"/docs/Component development/Introduction"},{"title":"Component naming","path":"/docs/Component development/ComponentNaming"},{"title":"Design system","path":"/docs/Component development/DesignSystem"},{"title":"Notes","path":"/docs/Component development/Notes"}]},{"title":"Contributing","child":[{"title":"Contributing rules","path":"/docs/Contributing/ContributingRules"},{"title":"CLA","path":"/docs/Contributing/CLA"}]}]},"pages":[],"__N_SSG":true}