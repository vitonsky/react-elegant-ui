<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="shortcut icon" type="image/jpg" href="/react-elegant-ui/logo-simple.svg"/><title>Elegant UI - Component development</title><meta name="next-head-count" content="4"/><link rel="preload" href="/react-elegant-ui/_next/static/css/cbee19aa30036fe5.css" as="style"/><link rel="stylesheet" href="/react-elegant-ui/_next/static/css/cbee19aa30036fe5.css" data-n-g=""/><link rel="preload" href="/react-elegant-ui/_next/static/css/02da5f6805d632ac.css" as="style"/><link rel="stylesheet" href="/react-elegant-ui/_next/static/css/02da5f6805d632ac.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/react-elegant-ui/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/react-elegant-ui/_next/static/chunks/webpack-c5132f0e578c89a8.js" defer=""></script><script src="/react-elegant-ui/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/react-elegant-ui/_next/static/chunks/main-82273dc8ff63cc11.js" defer=""></script><script src="/react-elegant-ui/_next/static/chunks/pages/_app-25f3dde5f4cbc450.js" defer=""></script><script src="/react-elegant-ui/_next/static/chunks/922-4b1079308dd7e663.js" defer=""></script><script src="/react-elegant-ui/_next/static/chunks/pages/%5B...slug%5D-26733d7977f05dc7.js" defer=""></script><script src="/react-elegant-ui/_next/static/9N0us2J0h-awrb54XrWqx/_buildManifest.js" defer=""></script><script src="/react-elegant-ui/_next/static/9N0us2J0h-awrb54XrWqx/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div class="App Theme Theme_color_default Theme_root_default"><div class="App-Header"><div class="App-Container"><a href="/react-elegant-ui/" class="App-Logo App-HeaderLink Link_Link__nyAf_ Link_Link_focusVisible__YqpW4"><img src="/react-elegant-ui/logo-simple.svg"/></a><div class="App-LinkBar"><a href="/react-elegant-ui/docs" class="App-HeaderLink Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Docs</a><span class="App-InlineDivider"></span><a href="/react-elegant-ui/demo" class="App-HeaderLink Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Demo</a><span class="App-InlineDivider"></span><a href="https://github.com/vitonsky/react-elegant-ui" class="App-HeaderLink Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Source</a></div><div class="App-HeadContainer App-HeadContainer_position_right App-HeadContainer_horizontalIndent"><div class="App-ThemePicker">theme: <span><span class="Select Select_listboxSize_max"><button tabindex="0" role="listbox" aria-haspopup="listbox" aria-label="light" aria-expanded="false" aria-multiselectable="false" class="Button Button_focusVisible Button_size_m Button_view_default Button_pressAnimation Select-Trigger"><div class="Button-Content"><span class="Button-Text">light</span><span class="Select-TriggerIconContainer"><span aria-hidden="true" class="Icon Icon_scalable Icon_size_s Icon_hasGlyph Icon_glyph_unfold-more Select-TriggerIcon Button-Icon Button-Icon_side_right"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></svg></span></span></div></button><div tabindex="-1" class="Popup Popup_view_default Select-Popup"><div role="listbox" tabindex="-1" class="Menu Menu_view_default Menu_size_m Select-List"><div class="Menu-Container"><div id="item-default-2" role="option" aria-selected="true" class="Menu-Item Menu-Item_raw"><div class="Menu-ItemContent"><span aria-hidden="true" class="Icon Icon_scalable Icon_size_s Icon_hasGlyph Icon_glyph_check Menu-ItemTick"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path></svg></span><span class="Menu-ItemText">light</span></div></div><div id="item-default-3" role="option" aria-selected="false" class="Menu-Item Menu-Item_raw"><div class="Menu-ItemContent"><span aria-hidden="true" class="Icon Icon_scalable Icon_size_s Menu-ItemTick"></span><span class="Menu-ItemText">dark</span></div></div></div></div></div></span></span></div><div class="App-Search"><div class="Textinput Textinput_hasClear Textinput_size_m Textinput_view_default"><div class="Textinput-Wrap"><input type="text" value="" placeholder="Search" autoComplete="off" class="Textinput-Control" spellcheck="false"/><span aria-hidden="true" class="Icon Icon_size_m Icon_hasGlyph Icon_glyph_cancel Textinput-Clear Textinput-Icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"></path></svg></span><span class="Textinput-Box"></span></div></div><div class="Popup Popup_view_default Search_SearchResultPopup__B6_wo Popup_Popup__9Ytln"><div class="Search_SearchResult_view_info__woJoG">Search...</div></div></div></div></div></div><div class="App-Layout"><div class="App-Container"><div class="Layout_Layout__EWI98"><div class="Layout_Navigation__X0vmM"><div class="Layout_Navigation-Container__r7_iP"><ul class="Navigation_Navigation__SZF2w"><li class="Navigation_Navigation-Container__rWN_z"><h3 class="Navigation_Navigation-Title__a3dMf">Introduction</h3><ul class="Navigation_Navigation__SZF2w"><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Introduction/About" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">About</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Introduction/GettingStarted" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Getting started</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Introduction/PackageStructure" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Package structure</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Introduction/ComponentArchitecture" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Component architecture</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Introduction/ComponentFileStructure" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Component file structure</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Introduction/Theming" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Theming</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Introduction/Tokens" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Tokens</a></li></ul></li><li class="Navigation_Navigation-Container__rWN_z"><h3 class="Navigation_Navigation-Title__a3dMf">Component development</h3><ul class="Navigation_Navigation__SZF2w"><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Component development/Introduction" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Introduction</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Component development/ComponentNaming" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Component naming</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Component development/DesignSystem" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Design system</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Component development/Notes" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Notes</a></li></ul></li><li class="Navigation_Navigation-Container__rWN_z"><h3 class="Navigation_Navigation-Title__a3dMf">Contributing</h3><ul class="Navigation_Navigation__SZF2w"><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Contributing/ContributingRules" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Contributing rules</a></li><li class="Navigation_Navigation-Item__qNraq"><a href="/react-elegant-ui/docs/Contributing/CLA" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">CLA</a></li></ul></li></ul></div></div><div class="Layout_Page__X0Lr7"><div class="Layout_Content__sSJqZ"><div class="MarkdownPage_MarkdownPage__OJCPJ"><div>
<h1 id="component-development" class="MarkdownPage_Header__9bqCH header"><a href="#component-development" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Component development&quot;">#</a>Component development</h1><p>Here explain how to write good components, easy for maintenance.</p><hr class="Divider_Divider__4AP_M Divider_Divider_size_l__XPHpA"/><h1 id="common-recomendation" class="MarkdownPage_Header__9bqCH header"><a href="#common-recomendation" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Common recomendation&quot;">#</a>Common recomendation</h1><h2 id="use-strict-typing" class="MarkdownPage_Header__9bqCH header"><a href="#use-strict-typing" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Use strict typing&quot;">#</a>Use strict typing</h2><p>Components written on typescript because strict types simplify maintenance.</p><p>When you wrong - you just can&#x27;t compile code and in many cases you even don&#x27;t need to check types in runtime, because successful compilation guarantee you many things.</p><p>But guarantees require high quality code with types which reflect domain specific.</p><p>Therefore you must write real types and try avoid <code class="CodeBlock_CodeBlock__oacGn">any</code> type, type casting and other hacks.</p><p>Typescript is very flexible language and allow you make complexity types. Usually TS features enought for any case. If you can&#x27;t express something, check <a href="https://www.typescriptlang.org/docs/" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" target="_blank">typescript docs</a> or make issue to discuss your problem.</p><h2 id="write-stupid-code" class="MarkdownPage_Header__9bqCH header"><a href="#write-stupid-code" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Write stupid code&quot;">#</a>Write stupid code</h2><p>Maintain complexity is very important parameter of code, it&#x27;s literally define future of code base.</p><p>Code complexity and its diversity is a key factors of code base hard for maintenance.</p><p>The simply stupid code the better. Under stupid mean its clear and simplicity.</p><p>We can use linters and tools which control codestyle, but we can&#x27;t prevent all cases with complexity code, especially since sometime we have to write complexity code for performance purposes.</p><p>Please, don&#x27;t write beautiful and smart code which require time to understand.</p><p>Your code must be simple, obviously and monosemantic. What would people read it and don&#x27;t think what means your construction.</p><p>For example, <code class="CodeBlock_CodeBlock__oacGn">x === -1</code> better than <code class="CodeBlock_CodeBlock__oacGn">!~x</code>, because we shouldn&#x27;t parse syntax and build logical pipeline with negation of negation, follow the logic and other things. We just see statement and understand it instantly.</p><p>Your code is nothing and will replace in any time. At least because tomorrow it will be deprecated. Keep it in mind when write code and focus on functionality and clearly. Functional will keep forever.</p><h2 id="comment-all" class="MarkdownPage_Header__9bqCH header"><a href="#comment-all" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Comment all&quot;">#</a>Comment all</h2><p>If you have to write not trivial code or use hack, explain it.</p><p>When you make public essence such as function, class or other object, add doc block for it.</p><p>When you change a exists public essence and it change behavior or signature, update description of it.</p><p>If you not wanna do something right now, but see that it needful or would be usefull, make TODO comment with explain of it.</p><p>If you don&#x27;t sure about something, comment it and say about. It&#x27;s fine, someone later improve it, maybe you or not.</p><p>If you see suboptimal things, make TODO comment with tag #perf and explain problems. Criticism to code it&#x27;s fine and help to make code better. But please, explain points, but not just insult a code because it useless information.</p><h2 id="specify-licenses-and-authors-for-thirdparty-resources" class="MarkdownPage_Header__9bqCH header"><a href="#specify-licenses-and-authors-for-thirdparty-resources" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Specify licenses and authors for thirdparty resources&quot;">#</a>Specify licenses and authors for thirdparty resources</h2><p>We respect authors of thirdparty resources and require specify license and authors for any thirdparty resources. Not matter what is it. It may be icons, fonts, images, libraries, parts of code or other. You must add this information for any resource and resource license must allow use resource anywhere.</p><p>Remember that you are responsible for check licenses and author rights. If you find resource on some random site and there say that this resource is free to use anywhere it&#x27;s mean nothing. You must reference to source of each resource and this must contains license agreement.</p><p>This is to ensure fair usage.</p><hr class="Divider_Divider__4AP_M Divider_Divider_size_l__XPHpA"/><h1 id="components-development-principles" class="MarkdownPage_Header__9bqCH header"><a href="#components-development-principles" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Components development principles&quot;">#</a>Components development principles</h1><p>For info about development components see [component naming and structure](&lt;/docs/Component development/ComponentNaming&gt;).</p><p>More info about components in <a href="/react-elegant-ui/docs/Introduction/ComponentArchitecture" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">component anatomy</a> and <a href="/react-elegant-ui/docs/Introduction/ComponentFileStructure" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">component file structure</a>.</p><p>If you still don&#x27;t, must read <a href="https://en.bem.info/methodology/" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" target="_blank">BEM methodology</a> to understand terms and architecture of components.</p><h2 id="blocks" class="MarkdownPage_Header__9bqCH header"><a href="#blocks" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Blocks&quot;">#</a>Blocks</h2><p>For control a class names of components use library <a href="https://github.com/bem/bem-react/tree/master/packages/classname" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" target="_blank">@bem-react/classname</a>, make cn object in basic implementation of component and use it in other essences.</p><h3 id="minimal-implementation" class="MarkdownPage_Header__9bqCH header"><a href="#minimal-implementation" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Minimal implementation&quot;">#</a>Minimal implementation</h3><p>Block it&#x27;s root of component and should implement minimal common features of component.</p><p>If you want implement feature which will use only on desktop, such as keyboard navigation, do it in feature file with feature name postfix in name, for example <code class="CodeBlock_CodeBlock__oacGn">Button@desktop.tsx</code>, <code class="CodeBlock_CodeBlock__oacGn">Button@touch.tsx</code>, <code class="CodeBlock_CodeBlock__oacGn">Button@someExperementName.tsx</code>.</p><h2 id="elements" class="MarkdownPage_Header__9bqCH header"><a href="#elements" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Elements&quot;">#</a>Elements</h2><p>Move all elements to separate components, even if it very simply block.</p><p>It need to user can replace element to other implementation.</p><h2 id="modifiers" class="MarkdownPage_Header__9bqCH header"><a href="#modifiers" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Modifiers&quot;">#</a>Modifiers</h2><p>Modifiers should be a High Order Components (HOC).</p><p>Modifiers should self remove all own props which not declared in basic block interface and don&#x27;t forward it.</p>
<p>You can use compose library to define HOCs which will apply by match props values and auto remove own properties when not match.</p><hr class="Divider_Divider__4AP_M Divider_Divider_size_l__XPHpA"/><h1 id="reuse" class="MarkdownPage_Header__9bqCH header"><a href="#reuse" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Reuse&quot;">#</a>Reuse</h1><h2 id="keep-state-outside" class="MarkdownPage_Header__9bqCH header"><a href="#keep-state-outside" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Keep state outside&quot;">#</a>Keep state outside</h2><p>Keep state outside and make requests to change state inside.</p><p>If don&#x27;t do it, component will keep private state and wrappers can&#x27;t control component and component stay unextendable.</p><p>You can keep inside a state which specific only for this entity, but all public properties states must keep outside.</p><h2 id="split-to-features" class="MarkdownPage_Header__9bqCH header"><a href="#split-to-features" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Split to features&quot;">#</a>Split to features</h2><p>Component can&#x27;t have features for any case, because number of cases is infinity.</p><p>Instead this component should be designed extensible and implement only basic features.</p><p>All other may be implement as wrappers which add features.</p><p>This design allows add features for any case.</p><p>Default implementation of some feature in library don&#x27;t like for you? It&#x27;s fine, you don&#x27;t need to fork library, replace some details in this implementation and support it self, just replace feature to your own implementation and it all. You can copy code of default implementation, replace details and use as your own feature which work as you wish.</p><p>If basic block layout bad for your case, just use your own implementation, you need only replace it with compose.</p><h2 id="use-wrappers" class="MarkdownPage_Header__9bqCH header"><a href="#use-wrappers" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Use wrappers&quot;">#</a>Use wrappers</h2><p>When you implement block feature, you need block to wrap it. But you must not direct use block inside implementation. It make feature not applyable for other block implementation.</p><p>Instead this make HOC for block, export it, apply to block and export wrapped block.</p><p>This way allow to user apply this feature to any block which implement interface of basic block.</p><h2 id="move-common-logic-outside" class="MarkdownPage_Header__9bqCH header"><a href="#move-common-logic-outside" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Move common logic outside&quot;">#</a>Move common logic outside</h2><p>Some UI logic need in many components. When you catch this, just move this logic to library, unify it and use library in same cases.</p><p>Better if you make library which not bind to framework and then adopt it to this, for example make behavior hook. This way allow you collect behavior logic and use it indepedent of framework features and even indepedent of framework, for example in pure JS.</p><p>Good example of this it is <a href="https://popper.js.org" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" target="_blank">popperjs</a> which can be use in pure js, react or any other library.</p><h2 id="use-common-interfaces" class="MarkdownPage_Header__9bqCH header"><a href="#use-common-interfaces" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Use common interfaces&quot;">#</a>Use common interfaces</h2>
<p>When interface have typical properties, use extends the coommon interfaces like <code class="CodeBlock_CodeBlock__oacGn">IComponentElement</code></p><p>This unify properties and simplify global refactoring, because you can refactor only one interface and changes will apply to all implementations</p><h2 id="make-extenson-nodes" class="MarkdownPage_Header__9bqCH header"><a href="#make-extenson-nodes" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Make extenson nodes&quot;">#</a>Make extenson nodes</h2><p>When you build component think about how users may want extend this.</p><p>To extend component often need add child nodes, then add props which give component and render in some place inside.</p><p>You can use names start from <code class="CodeBlock_CodeBlock__oacGn">addon</code>: <code class="CodeBlock_CodeBlock__oacGn">addonBefore</code>, <code class="CodeBlock_CodeBlock__oacGn">addonAfter</code>, <code class="CodeBlock_CodeBlock__oacGn">addonBeforeControl</code>, <code class="CodeBlock_CodeBlock__oacGn">addonAfrerWrapper</code></p><h2 id="forward-all" class="MarkdownPage_Header__9bqCH header"><a href="#forward-all" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Forward all&quot;">#</a>Forward all</h2><p>When you make wrapper, probably you insert to basic element some props.</p><p>Don&#x27;t forget forward user props with same names. You should make mix from your value and user value.</p><p>If it class name join it, if it callback, make call chain from your and user callback, if it context, mix context values but don&#x27;t lose user values.</p><h2 id="class-component-vs-functional" class="MarkdownPage_Header__9bqCH header"><a href="#class-component-vs-functional" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Class component vs functional&quot;">#</a>Class component vs functional</h2><p>You can make components of any type, class components, functional components or both.</p><p>But functional components have hooks and very convenient move common ligic to hooks and use it everywhere.</p><p>Also, functional components is simply, so this library use mostly functional components.</p><p>But you can mix this.</p><hr class="Divider_Divider__4AP_M Divider_Divider_size_l__XPHpA"/><h1 id="abstract-components-and-replaceable" class="MarkdownPage_Header__9bqCH header"><a href="#abstract-components-and-replaceable" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Abstract components and replaceable&quot;">#</a>Abstract components and replaceable</h1><ul><li><a href="/react-elegant-ui/docs/Introduction/Tokens" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4">Use design tokens</a></li></ul><h2 id="component-incapsulation-and-autonomy" class="MarkdownPage_Header__9bqCH header"><a href="#component-incapsulation-and-autonomy" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Component incapsulation and autonomy&quot;">#</a>Component incapsulation and autonomy</h2><p>Component it&#x27;s standalone entity and must be indepedent from all other.</p><p>It mean that component must contain all self parts such as code, styles, design tokens, docs, and other resources.</p><p>Component must consist from parts which can be replace to other implementations and end features can be define only while make bundle.</p><h2 id="use-contexts-to-props-forwarding" class="MarkdownPage_Header__9bqCH header"><a href="#use-contexts-to-props-forwarding" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Use contexts to props forwarding&quot;">#</a>Use contexts to props forwarding</h2><p>Components may use many wrappers and to forward props to some element you should use contexts.</p><p>Just make context contains props while make element and use it inside. And when you need to set props on element, use context provider for it.</p><h2 id="use-di" class="MarkdownPage_Header__9bqCH header"><a href="#use-di" class="MarkdownPage_Header-Link__yJtl1 Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" title="Anchor to &quot;Use DI&quot;">#</a>Use DI</h2>
<p>When you need some object, like element, you shall not use it directly never.</p><p>Instead this use dependency injection containers.</p><p>It allows you replace objects while composing.</p><p>Don&#x27;t make types for DI which have all possible objects. Instead make type for basic components and standalone types for each feature and union this types while make bundle.</p><p>This way allows to users set only necessary objects in their registry.</p><p>See more info in <a href="https://github.com/bem/bem-react/tree/master/packages/di" class="Link_Link__nyAf_ Link_Link_focusVisible__YqpW4" target="_blank">DI library docs</a></p></div></div><hr class="Divider_Divider__4AP_M Divider_Divider_size_l__XPHpA"/><div>Sat Aug 20 2022</div></div></div></div></div></div><div class="Spinner Spinner_view_primitive Spinner_size_m App-Spinner"></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"Component development","date":1661023752009,"text":"\u003c!-- TODO: split by headers --\u003e\n\n# Component development\n\nHere explain how to write good components, easy for maintenance.\n\n***\n\n# Common recomendation\n\n## Use strict typing\n\nComponents written on typescript because strict types simplify maintenance.\n\nWhen you wrong - you just can't compile code and in many cases you even don't need to check types in runtime, because successful compilation guarantee you many things.\n\nBut guarantees require high quality code with types which reflect domain specific.\n\nTherefore you must write real types and try avoid `any` type, type casting and other hacks.\n\nTypescript is very flexible language and allow you make complexity types. Usually TS features enought for any case. If you can't express something, check [typescript docs](https://www.typescriptlang.org/docs/) or make issue to discuss your problem.\n\n## Write stupid code\n\nMaintain complexity is very important parameter of code, it's literally define future of code base.\n\nCode complexity and its diversity is a key factors of code base hard for maintenance.\n\nThe simply stupid code the better. Under stupid mean its clear and simplicity.\n\nWe can use linters and tools which control codestyle, but we can't prevent all cases with complexity code, especially since sometime we have to write complexity code for performance purposes.\n\nPlease, don't write beautiful and smart code which require time to understand.\n\nYour code must be simple, obviously and monosemantic. What would people read it and don't think what means your construction.\n\nFor example, `x === -1` better than `!~x`, because we shouldn't parse syntax and build logical pipeline with negation of negation, follow the logic and other things. We just see statement and understand it instantly.\n\nYour code is nothing and will replace in any time. At least because tomorrow it will be deprecated. Keep it in mind when write code and focus on functionality and clearly. Functional will keep forever.\n\n## Comment all\n\nIf you have to write not trivial code or use hack, explain it.\n\nWhen you make public essence such as function, class or other object, add doc block for it.\n\nWhen you change a exists public essence and it change behavior or signature, update description of it.\n\nIf you not wanna do something right now, but see that it needful or would be usefull, make TODO comment with explain of it.\n\nIf you don't sure about something, comment it and say about. It's fine, someone later improve it, maybe you or not.\n\nIf you see suboptimal things, make TODO comment with tag #perf and explain problems. Criticism to code it's fine and help to make code better. But please, explain points, but not just insult a code because it useless information.\n\n## Specify licenses and authors for thirdparty resources\n\nWe respect authors of thirdparty resources and require specify license and authors for any thirdparty resources. Not matter what is it. It may be icons, fonts, images, libraries, parts of code or other. You must add this information for any resource and resource license must allow use resource anywhere.\n\nRemember that you are responsible for check licenses and author rights. If you find resource on some random site and there say that this resource is free to use anywhere it's mean nothing. You must reference to source of each resource and this must contains license agreement.\n\nThis is to ensure fair usage.\n\n***\n\n# Components development principles\n\nFor info about development components see [component naming and structure](\u003c/docs/Component development/ComponentNaming\u003e).\n\nMore info about components in [component anatomy](/docs/Introduction/ComponentArchitecture) and [component file structure](/docs/Introduction/ComponentFileStructure).\n\nIf you still don't, must read [BEM methodology](https://en.bem.info/methodology/) to understand terms and architecture of components.\n\n## Blocks\n\nFor control a class names of components use library [@bem-react/classname](https://github.com/bem/bem-react/tree/master/packages/classname), make cn object in basic implementation of component and use it in other essences.\n\n### Minimal implementation\n\nBlock it's root of component and should implement minimal common features of component.\n\nIf you want implement feature which will use only on desktop, such as keyboard navigation, do it in feature file with feature name postfix in name, for example `Button@desktop.tsx`, `Button@touch.tsx`, `Button@someExperementName.tsx`.\n\n## Elements\n\nMove all elements to separate components, even if it very simply block.\n\nIt need to user can replace element to other implementation.\n\n## Modifiers\n\nModifiers should be a High Order Components (HOC).\n\nModifiers should self remove all own props which not declared in basic block interface and don't forward it.\n\n\u003c!-- TODO: write docs for \"compose\" library and add link here --\u003e\n\nYou can use compose library to define HOCs which will apply by match props values and auto remove own properties when not match.\n\n***\n\n# Reuse\n\n## Keep state outside\n\nKeep state outside and make requests to change state inside.\n\nIf don't do it, component will keep private state and wrappers can't control component and component stay unextendable.\n\nYou can keep inside a state which specific only for this entity, but all public properties states must keep outside.\n\n## Split to features\n\nComponent can't have features for any case, because number of cases is infinity.\n\nInstead this component should be designed extensible and implement only basic features.\n\nAll other may be implement as wrappers which add features.\n\nThis design allows add features for any case.\n\nDefault implementation of some feature in library don't like for you? It's fine, you don't need to fork library, replace some details in this implementation and support it self, just replace feature to your own implementation and it all. You can copy code of default implementation, replace details and use as your own feature which work as you wish.\n\nIf basic block layout bad for your case, just use your own implementation, you need only replace it with compose.\n\n## Use wrappers\n\nWhen you implement block feature, you need block to wrap it. But you must not direct use block inside implementation. It make feature not applyable for other block implementation.\n\nInstead this make HOC for block, export it, apply to block and export wrapped block.\n\nThis way allow to user apply this feature to any block which implement interface of basic block.\n\n## Move common logic outside\n\nSome UI logic need in many components. When you catch this, just move this logic to library, unify it and use library in same cases.\n\nBetter if you make library which not bind to framework and then adopt it to this, for example make behavior hook. This way allow you collect behavior logic and use it indepedent of framework features and even indepedent of framework, for example in pure JS.\n\nGood example of this it is [popperjs](https://popper.js.org) which can be use in pure js, react or any other library.\n\n## Use common interfaces\n\n\u003c!-- TODO: write docs for common interfaces and add link here --\u003e\n\nWhen interface have typical properties, use extends the coommon interfaces like `IComponentElement`\n\nThis unify properties and simplify global refactoring, because you can refactor only one interface and changes will apply to all implementations\n\n## Make extenson nodes\n\nWhen you build component think about how users may want extend this.\n\nTo extend component often need add child nodes, then add props which give component and render in some place inside.\n\nYou can use names start from `addon`: `addonBefore`, `addonAfter`, `addonBeforeControl`, `addonAfrerWrapper`\n\n## Forward all\n\nWhen you make wrapper, probably you insert to basic element some props.\n\nDon't forget forward user props with same names. You should make mix from your value and user value.\n\nIf it class name join it, if it callback, make call chain from your and user callback, if it context, mix context values but don't lose user values.\n\n## Class component vs functional\n\nYou can make components of any type, class components, functional components or both.\n\nBut functional components have hooks and very convenient move common ligic to hooks and use it everywhere.\n\nAlso, functional components is simply, so this library use mostly functional components.\n\nBut you can mix this.\n\n***\n\n# Abstract components and replaceable\n\n*   [Use design tokens](/docs/Introduction/Tokens)\n\n## Component incapsulation and autonomy\n\nComponent it's standalone entity and must be indepedent from all other.\n\nIt mean that component must contain all self parts such as code, styles, design tokens, docs, and other resources.\n\nComponent must consist from parts which can be replace to other implementations and end features can be define only while make bundle.\n\n## Use contexts to props forwarding\n\nComponents may use many wrappers and to forward props to some element you should use contexts.\n\nJust make context contains props while make element and use it inside. And when you need to set props on element, use context provider for it.\n\n## Use DI\n\n\u003c!-- TODO: write docs about DI library and principles --\u003e\n\nWhen you need some object, like element, you shall not use it directly never.\n\nInstead this use dependency injection containers.\n\nIt allows you replace objects while composing.\n\nDon't make types for DI which have all possible objects. Instead make type for basic components and standalone types for each feature and union this types while make bundle.\n\nThis way allows to users set only necessary objects in their registry.\n\nSee more info in [DI library docs](https://github.com/bem/bem-react/tree/master/packages/di)\n","navigation":[{"title":"Introduction","child":[{"title":"About","path":"/docs/Introduction/About"},{"title":"Getting started","path":"/docs/Introduction/GettingStarted"},{"title":"Package structure","path":"/docs/Introduction/PackageStructure"},{"title":"Component architecture","path":"/docs/Introduction/ComponentArchitecture"},{"title":"Component file structure","path":"/docs/Introduction/ComponentFileStructure"},{"title":"Theming","path":"/docs/Introduction/Theming"},{"title":"Tokens","path":"/docs/Introduction/Tokens"}]},{"title":"Component development","child":[{"title":"Introduction","path":"/docs/Component development/Introduction"},{"title":"Component naming","path":"/docs/Component development/ComponentNaming"},{"title":"Design system","path":"/docs/Component development/DesignSystem"},{"title":"Notes","path":"/docs/Component development/Notes"}]},{"title":"Contributing","child":[{"title":"Contributing rules","path":"/docs/Contributing/ContributingRules"},{"title":"CLA","path":"/docs/Contributing/CLA"}]}]},"pages":[],"__N_SSG":true},"page":"/[...slug]","query":{"slug":["docs","Component%20development","Introduction"]},"buildId":"9N0us2J0h-awrb54XrWqx","assetPrefix":"/react-elegant-ui","runtimeConfig":{"title":"Elegant UI","repo":"https://github.com/vitonsky/react-elegant-ui","staticFolder":"/static","basePath":"/react-elegant-ui"},"isFallback":false,"gsp":true,"appGip":true,"scriptLoader":[]}</script></body></html>